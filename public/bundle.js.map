{"version":3,"sources":["webpack:///webpack/bootstrap 428c0a671ccfe4ee841b","webpack:///./frontendSRC/WS.js","webpack:///./frontendSRC/API.js","webpack:///./frontendSRC/entry.js","webpack:///./frontendSRC/store.js","webpack:///./frontendSRC/ui.js","webpack:///./frontendSRC/auth.js"],"names":["WSmaker","store","token","subBtn","document","getElementById","handle","input","focus","messageBox","roomChangeInput","roomChangeButton","scheme","uri","window","location","host","ws","WebSocket","onmessage","msg","data","JSON","parse","action","msgEl","createElement","innerHTML","text","appendChild","bottomizeScroll","console","log","payload","controller","onerror","err","onclose","e","onopen","addEventListener","preventDefault","value","send","stringify","room","roomName","classList","add","select","key","click","setRoom","changeUserlist","rooms","userList","setError","error","element","scrollTop","scrollHeight","login","fetch","method","body","then","res","json","ok","Error","signup","guest","isUser","auth","startup","signinSubmit","handlein","appholder","signin","guestSignIn","signinClickHandle","replace","passwordSetup","removeEventListener","finalize","querySelector","innerText","Store","ui","signedIn","msgs","bind","handleName","errors","prototype","push","UI","displayError","setHandle","makeName","makeRoom","makeUserList","querySelectorAll","forEach","roomButton","contains","remove","signInEnter","signinSubmitel","username","roomname","userListEl","Object","keys","i","roomEl","roomElList","user","li","name","button","dataset","diffUserButton","authSeq","changeToLogin","changeToSignUp","signinButtons","anotherUserButton","type","id","signInInitialHandleMaker","a","parentElement","isuser","length","style","display","removeChild","placeholder","password","clone","cloneNode","replaceChild","authseq"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 428c0a671ccfe4ee841b","\n\nconst WSmaker = (store,token) =>{\n    // console.log('loaded');\n    const subBtn = document.getElementById('submit');\n    const handle = store.handle;\n    const input = document.getElementById('chatin');\n    input.focus();\n    const messageBox = document.getElementById('messageBox');\n\n    const roomChangeInput = document.getElementById('roomChangeInput');\n    const roomChangeButton = document.getElementById('roomChangeButton')\n\n    const scheme = \"ws://\";\n    const uri = scheme + window.document.location.host + \"/\" + handle + '/' + token;\n    const ws = new WebSocket(uri);\n\n    ws.onmessage = (msg)=>{\n        const data = JSON.parse(msg.data);\n        if (data.action === 'msg'){\n            const msgEl = document.createElement('li');\n            msgEl.innerHTML = `\n        <h1>${data.handle}: ${data.text}</h1>\n        `;\n            messageBox.appendChild(msgEl);\n            bottomizeScroll();\n        }else{\n            console.log('RECEIVED WS COMMAND',data.action,data.payload,data)\n            controller(data,store)\n        }\n        \n    };\n\n    ws.onerror = (err) =>{\n         console.log('web socket error',err);\n    };\n\n    ws.onclose = (e) =>{\n         console.log('websocket closing',e);\n    };\n\n    ws.onopen = (e) =>{\n    };\n\n    // send message\n    subBtn.addEventListener('click',(e)=>{\n        \n        e.preventDefault();\n        const text = input.value;\n\n        console.log('submit clicked', handle, text);\n\n        ws.send(JSON.stringify({\n            action:'msg',\n            room:store.roomName(),\n            handle:handle,\n            text:text\n        }));\n\n        const msgEl = document.createElement('li');\n        msgEl.innerHTML = `\n        <h1>${handle}: ${text}</h1>\n        `;\n        msgEl.classList.add('myMessage')\n        messageBox.appendChild(msgEl);\n        bottomizeScroll();\n\n\n        input.value=\"\";\n        input.select();\n    });\n    //send message by pressing enter\n    document.addEventListener('keypress', (e) => {\n        if (e.key == 'Enter') {\n            subBtn.click();\n        }\n    });\n\n    //change rooms\n    roomChangeButton.addEventListener('click',(e)=>{\n        store.setRoom(roomChangeInput.value);\n        roomChangeInput.value = ''\n        ws.send(JSON.stringify({\n            action: 'roomChange',\n            payload:{\n                room: store.room\n            }\n        }));\n\n    })\n\n};\nfunction controller(data,store){\n    switch (data.action) {\n        case \"userList\":\n            store.changeUserlist(data.payload.rooms, data.payload.userList);\n            break;\n        case 'error':\n            store.setError(data.payload.error);\n            break;\n        default:\n            console.log('unknown action', data)\n    }\n\n}\nfunction bottomizeScroll() {\n    var element = document.getElementById(\"messages\");\n    element.scrollTop = element.scrollHeight;\n}\n\nexport default WSmaker;\n\n\n// WEBPACK FOOTER //\n// ./frontendSRC/WS.js","\n// var payloadd = {\n//     username: 'timlkjkh',\n//     password: 'passsssssss'\n// };\n\nexport const login = (payload)=>fetch(\"api/login\",\n        {\n            method: \"POST\",\n            body: JSON.stringify(payload),\n        })\n        .then((res)=>res.json().then((data)=>{\n            if (res.ok){\n                return data\n            }else{\n                throw new Error(data.error);\n            }\n        }));\n\nexport const signup = (payload) => fetch(\"api/signup\",\n    {\n        method: \"POST\",\n        body: JSON.stringify(payload),\n    })\n    .then((res) => res.json().then((data) => {\n        if (res.ok) {\n            return data\n        } else {\n            throw new Error(data.error);\n        }\n    }));\n\nexport const guest = () => fetch(\"api/login\",\n    {\n        method: \"POST\",\n        body: JSON.stringify({'username':'guest','password':'password'}),\n    })\n    .then((res) => res.json().then((data) => {\n        if (res.ok) {\n            return data\n        } else {\n            throw new Error(data.error);\n        }\n    }));\nexport const isUser = (payload) => fetch(\"api/isuser\",\n    {\n        method: \"POST\",\n        body: JSON.stringify(payload),\n    })\n    .then((res)=> res.json())\n\nconst auth = ()=> fetch(\"api/login\",\n    {\n        method: \"POST\",\n        body: JSON.stringify(payload),\n    //auth headers  //  // headers: new Headers({ 'authentication': 'jwt start' })\n    })\n    .then(function (res) { return res.json(); })\n    .then(function (data) { console.log(JSON.stringify(data)) })\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./frontendSRC/API.js","import Store from './store';\nimport WSmaker from './WS';\nimport {login,signup,isUser,guest} from './API'\nimport authSeq from './auth';\n\n\nconst startup = () => {\n    const store = new Store();\n    const signinSubmit = document.getElementById('signin-submit');\n    const handlein = document.getElementById('handle-Signin');\n    handlein.focus();\n    const appholder = document.getElementById('appholder');\n    const signin = document.getElementById('signin');\n    const guestSignIn = document.getElementById('signin-guest')\n    \n    const signinClickHandle = () => {\n        console.log('login attempt',handlein.value);\n        let handle = handlein.value.replace(/\\s+/g, '');\n        console.log(authSeq);\n        handlein.value = ''\n        authSeq.passwordSetup(handle,store);\n        signinSubmit.removeEventListener('click', signinClickHandle);\n    };\n    signinSubmit.addEventListener('click', signinClickHandle)\n\n\n\n    guestSignIn.addEventListener('click',()=>{\n        guest()\n        .then(\n            (res)=>{\n                signinSubmit.removeEventListener('click', signinClickHandle);\n                console.log(res)\n                authSeq.finalize('guest',store,res.token);\n            },\n            (error) => {\n                const text = document.getElementById('signin').querySelector('h1')\n                console.log(error);\n                text.innerText = `${error}`;\n            });\n    })\n};\n\ndocument.addEventListener('DOMContentLoaded', startup);\n\n\n\n\n// WEBPACK FOOTER //\n// ./frontendSRC/entry.js","\nimport UI from './ui';\nconst Store = function(){\n    this.ui = new UI(this);\n    this.handle = ''\n    this.room = 'general'\n    this.signedIn = false;\n    this.store = {};\n    this.rooms = {};\n    this.userList={}\n    this.msgs = [];\n    this.setRoom = this.setRoom.bind(this);\n    this.handleName = this.handleName.bind(this);\n    this.roomName = this.roomName.bind(this);\n    this.errors=[];\n\n\n} \n\nStore.prototype.setError = function(error){\n    this.errors.push(error)\n    this.UI.displayError(error);\n}\nStore.prototype.setHandle = function(handle){\n    this.handle = handle\n    this.ui.makeName(handle);\n\n}\nStore.prototype.setRoom = function(room){\n    this.room = room;\n    this.ui.makeRoom(room);\n}\nStore.prototype.changeUserlist = function(rooms,userList){\n    this.userList = userList;\n    this.rooms=rooms;\n    this.ui.makeUserList(rooms);\n}\n\nStore.prototype.roomName = function(){\n    return this.room;\n}\nStore.prototype.handleName = function(){\n    return this.handle;\n}\n\nexport default Store;\n\n\n\n// WEBPACK FOOTER //\n// ./frontendSRC/store.js","class UI{\n    constructor(store){\n        this.store = store;\n\n        //makes room list collapseable on each room\n        document.getElementById('userlistLabel').addEventListener('click', (e) => {\n            document.querySelectorAll('.room').forEach((roomButton) => {\n                roomButton.classList.contains('collapse') ? roomButton.classList.remove('collapse') : roomButton.classList.add('collapse');\n            })\n        })\n\n\n        //binds enter to signinbutton at start\n        const signInEnter = function (e) {\n            if (!store.signedIn && e.key == 'Enter') {\n                const signinSubmitel = document.getElementById('signin-submit');\n                signinSubmitel.click();\n            }else if(store.signedIn){\n                document.removeEventListener('keypress',signInEnter);\n            }\n        }\n        document.addEventListener('keypress', signInEnter);\n\n        \n    }\n    displayError(error){\n        console.log('display error','UI.js',error);\n    }\n    makeName(handle){\n        const username = document.getElementById('username');\n        username.innerHTML = `<h1>${handle}</h1>`\n    }\n    makeRoom(roomName){\n        const roomname = document.getElementById('roomname')\n        document.getElementById('roomname').innerHTML = `<h1>${roomName}</h1>`\n    }\n    makeUserList(rooms){\n        const userListEl = document.getElementById('userList');\n        userListEl.innerHTML = ''\n\n        const roomChangeInput = document.getElementById('roomChangeInput');\n        const roomChangeButton = document.getElementById('roomChangeButton')\n\n        Object.keys(rooms).forEach((room, i) => {\n\n            //this is a li for a single room. It will have a collapse button and a list of users.  \n            const roomEl = document.createElement('li');\n            roomEl.innerHTML = `\n            <div>\n                <button \n                id=roomButton \n                data-room=${room}>\n                    ${room}\n                </button>\n                <button\n                data-room=${room} \n                id='collapseRoom'>\n                    [x]\n                </button>\n            </div>\n            `\n            roomEl.classList.add('room')\n            //adds a collapse event to the roomels second button which collapses its user list\n            roomEl.querySelector('#collapseRoom').addEventListener('click', (e) => {\n                roomEl.classList.contains('collapse') ? roomEl.classList.remove('collapse') : roomEl.classList.add('collapse');\n            })\n\n            //this is the list of users the roomEl will have\n            const roomElList = document.createElement('ul');\n            roomElList.classList.add('roomUserList')\n\n            roomEl.appendChild(roomElList);\n            userListEl.appendChild(roomEl)\n\n            //go through every user in this room and make a new li for them and append to the roomellist\n            rooms[room].forEach((user) => {\n                const li = document.createElement('li');\n                li.innerHTML = `<button id='userButton' data-name=${user.name}'>${user.name}</button>`\n                roomElList.appendChild(li);\n            })\n\n            //clicking on a roomname will make change the room by putting that roomname into the roomname change input element and clicking its submit button\n            document.querySelectorAll('#roomButton').forEach((button) => {\n                button.addEventListener('click', (e) => {\n                    roomChangeInput.value = button.dataset.room\n                    roomChangeButton.click();\n                })\n            })\n            //this is for clicking a username\n            //will later impliment direct messenging and freinds. \n            document.querySelectorAll('#userButton').forEach((button) => {\n                button.addEventListener('click', (e) => {\n                    console.log(button.dataset.name)\n                })\n            })\n\n        })\n\n    }\n}\n\nexport default UI;\n\n\n// WEBPACK FOOTER //\n// ./frontendSRC/ui.js","\nimport WSmaker from './WS';\nimport { login, signup, isUser } from './API'\n\nconst diffUserButton = document.createElement('input')\n\nconst authSeq = function(){\n    this.passwordSetup = this.passwordSetup.bind(this);\n    this.changeToLogin = this.changeToLogin.bind(this);\n    this.changeToSignUp = this.changeToSignUp.bind(this);\n}\nauthSeq.prototype.passwordSetup = function(handle,store){\n    isUser({\"username\":handle}).then((res) => {\n        const signinButtons = document.getElementById('signin-buttons');\n        const anotherUserButton = document.createElement('INPUT');\n        anotherUserButton.type='submit';\n        anotherUserButton.value='Another User';\n        anotherUserButton.id='anotherUserButton';\n        anotherUserButton.addEventListener('click', this.signInInitialHandleMaker(store))\n        \n        let a = signinButtons.appendChild(anotherUserButton);\n        console.log(signinButtons, anotherUserButton,a.parentElement);\n        console.log('registered:', res.isuser);\n        if (res.isuser) {\n            this.changeToLogin(handle, store)\n        } else {\n            this.changeToSignUp(handle, store);\n        }\n    })\n\n}\n\nauthSeq.prototype.finalize = function(handle,store,token){\n    // console.log(token.token);\n    store.setHandle(handle.length > 1 ? handle : 'anon');\n    store.setRoom('general');\n    store.signedIn = true;\n    appholder.classList.remove('blur');\n    signin.style.display = 'none';\n    const signinSubmit = document.getElementById('signin-submit');\n    signinSubmit.parentElement.removeChild(signinSubmit);\n    WSmaker(store,token);\n}\n\nauthSeq.prototype.changeToSignUp = function(handle,store){\n    const input = document.getElementById('handle-Signin');\n    input.placeholder= 'enter Password';\n\n    const signin = document.getElementById('signin');\n    const text = signin.querySelector('h1')\n    text.innerText = `-${handle}- not registered, enter a password to create an account or press guest`\n\n    const signinSubmit = document.getElementById('signin-submit');\n    signinSubmit.addEventListener('click',()=>{\n        console.log(\"signing\", input.value)\n        signup({ username: handle, password: input.value })\n        .then(\n            (res)=>{\n                console.log(res)\n                this.finalize(handle,store,res.token);\n            },\n            (error)=>{\n                console.log('errorure:',error);\n                text.innerText = error;\n            });\n    });\n\n}\n\nauthSeq.prototype.changeToLogin = function(handle,store){\n    const input = document.getElementById('handle-Signin');\n    input.placeholder = 'enter Password';\n\n    const signin = document.getElementById('signin');\n    const text = signin.querySelector('h1')\n    text.innerText = `welcome back, -${handle}- , please enter password`\n\n    const signinSubmit = document.getElementById('signin-submit');\n    signinSubmit.addEventListener('click', () => {\n        console.log(\"login\", input.value)\n        login({ username: handle, password: input.value })\n        .then(\n            (res)=>{\n                console.log('succesful login',res);\n                this.finalize(handle,store,res.token);\n            },\n            (error)=>{\n                console.log(error);\n                text.innerText = `${handle} - ${error}`;\n            });\n    });\n}\n\nauthSeq.prototype.signInInitialHandleMaker = function(store){\n    return ()=>{\n        const anotherUserButton = document.getElementById('anotherUserButton');\n        anotherUserButton.parentElement.removeChild(anotherUserButton);\n\n        let signinSubmit = document.getElementById('signin-submit');\n        const clone = signinSubmit.cloneNode();\n        signinSubmit.parentElement.replaceChild(clone,signinSubmit);\n        signinSubmit = clone;\n        const handlein = document.getElementById('handle-Signin');\n        handlein.value='';\n        handlein.placeholder='enter unique username'\n        handlein.focus();\n        const appholder = document.getElementById('appholder');\n        const signin = document.getElementById('signin');\n        let signedIn = false;\n        \n        const text = signin.querySelector('h1')\n        text.innerText = `Welcome To Chat, please enter a name or press guest`\n\n        const signinClickHandle = () => {\n            console.log('login attempt', handlein.value);\n            let handle = handlein.value.replace(/\\s+/g, '');\n            console.log(authseq);\n            handlein.value = ''\n            authseq.passwordSetup(handle, store);\n            signinSubmit.removeEventListener('click', signinClickHandle);\n        };\n        signinSubmit.addEventListener('click', signinClickHandle)\n    }\n}\nconst authseq = new authSeq();\nexport default authseq;\n\n\n// WEBPACK FOOTER //\n// ./frontendSRC/auth.js"],"sourceRoot":""}