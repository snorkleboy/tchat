{"version":3,"sources":["webpack:///webpack/bootstrap 4957dcfee03c22dc9802","webpack:///./frontendSRC/API.js","webpack:///./frontendSRC/entry.js","webpack:///./frontendSRC/store.js","webpack:///./frontendSRC/auth.js","webpack:///./frontendSRC/WS.js","webpack:///./frontendSRC/ui.js"],"names":["login","payload","fetch","method","body","JSON","stringify","then","res","json","signup","isUser","guest","auth","data","console","log","startup","store","signinSubmit","document","getElementById","handlein","focus","appholder","signin","guestSignIn","signinClickHandle","value","handle","replace","passwordSetup","removeEventListener","addEventListener","signInEnter","finalize","Store","ui","room","signedIn","rooms","userList","msgs","setRoom","bind","prototype","setHandle","makeName","makeRoom","changeUserlist","makeUserList","diffUserButton","createElement","authSeq","changeToLogin","changeToSignUp","signinButtons","anotherUserButton","type","id","signInInitialHandleMaker","a","appendChild","parentElement","isuser","length","classList","remove","style","display","removeChild","input","placeholder","text","querySelector","innerText","username","password","clone","cloneNode","replaceChild","authseq","WSmaker","subBtn","messageBox","roomChangeInput","roomChangeButton","scheme","uri","window","location","host","ws","WebSocket","onmessage","msg","parse","action","msgEl","innerHTML","bottomizeScroll","onerror","err","onclose","e","onopen","preventDefault","send","roomName","add","select","key","click","element","scrollTop","scrollHeight","UI","querySelectorAll","forEach","roomButton","contains","signinSubmitel","roomname","userListEl","Object","keys","i","roomEl","roomElList","user","li","name","button","dataset"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4957dcfee03c22dc9802","\n// var payloadd = {\n//     username: 'timlkjkh',\n//     password: 'passsssssss'\n// };\n\nexport const login = (payload)=>fetch(\"http://localhost:3000/api/login\",\n        {\n            method: \"POST\",\n            body: JSON.stringify(payload),\n        })\n        .then((res)=>res.json())\n\nexport const signup = (payload) => fetch(\"http://localhost:3000/api/signup\",\n    {\n        method: \"POST\",\n        body: JSON.stringify(payload),\n    })\n    .then((res) => res.json())\nexport const isUser = (payload) => fetch(\"http://localhost:3000/api/isuser\",\n    {\n        method: \"POST\",\n        body: JSON.stringify(payload),\n    })\n    .then(function (res) { return res.json(); })\n\nexport const guest = () => fetch(\"http://localhost:3000/api/login\",\n    {\n        method: \"POST\",\n        body: JSON.stringify({'username':'guest','password':'password'}),\n    })\n    .then((res) => res.json())\n\nconst auth = ()=> fetch(\"http://localhost:3000/api/login\",\n    {\n        method: \"POST\",\n        body: JSON.stringify(payload),\n    //auth headers  //  // headers: new Headers({ 'authentication': 'jwt start' })\n    })\n    .then(function (res) { return res.json(); })\n    .then(function (data) { console.log(JSON.stringify(data)) })\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./frontendSRC/API.js","import Store from './store';\nimport WSmaker from './WS';\nimport {login,signup,isUser,guest} from './API'\nimport authSeq from './auth';\n\n\nconst startup = () => {\n    const store = new Store();\n    const signinSubmit = document.getElementById('signin-submit');\n    const handlein = document.getElementById('handle-Signin');\n    handlein.focus();\n    const appholder = document.getElementById('appholder');\n    const signin = document.getElementById('signin');\n    const guestSignIn = document.getElementById('signin-guest')\n    \n    const signinClickHandle = () => {\n        console.log('login attempt',handlein.value);\n        let handle = handlein.value.replace(/\\s+/g, '');\n        console.log(authSeq);\n        handlein.value = ''\n        authSeq.passwordSetup(handle,store);\n        signinSubmit.removeEventListener('click', signinClickHandle);\n    };\n    signinSubmit.addEventListener('click', signinClickHandle)\n\n\n\n    guestSignIn.addEventListener('click',()=>{\n        guest().then((res)=>{\n            signinSubmit.removeEventListener('click', signinClickHandle);\n            document.removeEventListener('keypress', signInEnter);\n            console.log(res)\n            authSeq.finalize('guest',store);\n        });\n\n    })\n};\n\ndocument.addEventListener('DOMContentLoaded', startup);\n\n\n\n\n// WEBPACK FOOTER //\n// ./frontendSRC/entry.js","\nimport UI from './ui';\nconst Store = function(){\n    this.ui = new UI(this);\n    this.handle = ''\n    this.room = 'general'\n    this.signedIn = false;\n    this.store = {};\n    this.rooms = {};\n    this.userList={}\n    this.msgs = [];\n    this.setRoom = this.setRoom.bind(this);\n\n\n} \n\n\nStore.prototype.setHandle = function(handle){\n    this.handle = handle\n    this.ui.makeName(handle);\n\n}\nStore.prototype.setRoom = function(room){\n    this.room = room;\n    this.ui.makeRoom(room);\n}\nStore.prototype.changeUserlist = function(rooms,userList){\n    this.userList = userList;\n    this.rooms=rooms;\n    this.ui.makeUserList(rooms);\n}\n\n\n\nexport default Store;\n\n\n\n// WEBPACK FOOTER //\n// ./frontendSRC/store.js","\nimport WSmaker from './WS';\nimport { login, signup, isUser } from './API'\n\nconst diffUserButton = document.createElement('input')\n\nconst authSeq = function(){\n    this.passwordSetup = this.passwordSetup.bind(this);\n    this.changeToLogin = this.changeToLogin.bind(this);\n    this.changeToSignUp = this.changeToSignUp.bind(this);\n}\nauthSeq.prototype.passwordSetup = function(handle,store){\n    isUser({\"username\":handle}).then((res) => {\n        const signinButtons = document.getElementById('signin-buttons');\n        const anotherUserButton = document.createElement('INPUT');\n        anotherUserButton.type='submit';\n        anotherUserButton.value='Another User';\n        anotherUserButton.id='anotherUserButton';\n        anotherUserButton.addEventListener('click', this.signInInitialHandleMaker(store))\n        \n        let a = signinButtons.appendChild(anotherUserButton);\n        console.log(signinButtons, anotherUserButton,a.parentElement);\n        console.log('registered:', res.isuser);\n        if (res.isuser) {\n            this.changeToLogin(handle, store)\n        } else {\n            this.changeToSignUp(handle, store);\n        }\n    })\n\n}\n\nauthSeq.prototype.finalize = function(handle,store){\n    store.setHandle(handle.length > 1 ? handle : 'anon');\n    store.signedIn = true;\n    WSmaker(store);\n    appholder.classList.remove('blur');\n    signin.style.display = 'none';\n    const signinSubmit = document.getElementById('signin-submit');\n    signinSubmit.parentElement.removeChild(signinSubmit);\n}\n\nauthSeq.prototype.changeToSignUp = function(handle,store){\n    const input = document.getElementById('handle-Signin');\n    input.placeholder= 'enter Password';\n\n    const signin = document.getElementById('signin');\n    const text = signin.querySelector('h1')\n    text.innerText = `-${handle}- not registered, enter a password to create an account or press guest`\n\n    const signinSubmit = document.getElementById('signin-submit');\n    signinSubmit.addEventListener('click',()=>{\n        console.log(\"signing\", input.value)\n        signup({ username: handle, password: input.value }).then((res)=>{\n            console.log(res)\n            this.finalize(handle,store);\n        });\n    });\n\n}\n\nauthSeq.prototype.changeToLogin = function(handle,store){\n    const input = document.getElementById('handle-Signin');\n    input.placeholder = 'enter Password';\n\n    const signin = document.getElementById('signin');\n    const text = signin.querySelector('h1')\n    text.innerText = `welcome back, -${handle}- , please enter password`\n\n    const signinSubmit = document.getElementById('signin-submit');\n    signinSubmit.addEventListener('click', () => {\n        console.log(\"login\", input.value)\n        login({ username: handle, password: input.value }).then((res)=>{\n            console.log(res);\n            this.finalize(handle,store);\n        });\n    });\n}\n\nauthSeq.prototype.signInInitialHandleMaker = function(store){\n    return ()=>{\n        const anotherUserButton = document.getElementById('anotherUserButton');\n        anotherUserButton.parentElement.removeChild(anotherUserButton);\n\n        let signinSubmit = document.getElementById('signin-submit');\n        const clone = signinSubmit.cloneNode();\n        signinSubmit.parentElement.replaceChild(clone,signinSubmit);\n        signinSubmit = clone;\n        const handlein = document.getElementById('handle-Signin');\n        handlein.focus();\n        const appholder = document.getElementById('appholder');\n        const signin = document.getElementById('signin');\n        let signedIn = false;\n\n        const input = document.getElementById('handle-Signin');\n        input.placeholder = 'enter username';\n        const text = signin.querySelector('h1')\n        text.innerText = `Welcome To Chat, please enter a name or press guest`\n\n        const signinClickHandle = () => {\n            console.log('login attempt', handlein.value);\n            let handle = handlein.value.replace(/\\s+/g, '');\n            console.log(authseq);\n            handlein.value = ''\n            authseq.passwordSetup(handle, store);\n            signinSubmit.removeEventListener('click', signinClickHandle);\n        };\n        signinSubmit.addEventListener('click', signinClickHandle)\n    }\n}\nconst authseq = new authSeq();\nexport default authseq;\n\n\n// WEBPACK FOOTER //\n// ./frontendSRC/auth.js","\n\nconst WSmaker = (store) =>{\n    // console.log('loaded');\n    const subBtn = document.getElementById('submit');\n    const handle = store.handle;\n    const input = document.getElementById('chatin');\n    input.focus();\n    const messageBox = document.getElementById('messageBox');\n\n    const roomChangeInput = document.getElementById('roomChangeInput');\n    const roomChangeButton = document.getElementById('roomChangeButton')\n\n    const scheme = \"ws://\";\n    const uri = scheme + window.document.location.host + \"/\"+handle;\n    const ws = new WebSocket(uri);\n\n    ws.onmessage = (msg)=>{\n        const data = JSON.parse(msg.data);\n        if (data.action === 'msg'){\n            const msgEl = document.createElement('li');\n            msgEl.innerHTML = `\n        <h1>${data.handle}: ${data.text}</h1>\n        `;\n            messageBox.appendChild(msgEl);\n            bottomizeScroll();\n        }else{\n            console.log('RECEIVED WS COMMAND',data.action,data.payload,data)\n            switch(data.action){\n                case \"userList\":\n                    store.changeUserlist(data.payload.rooms,data.payload.userList);\n                    break;\n                default:\n                    console.log('unknown action',data)\n            }\n        }\n        \n    };\n\n    ws.onerror = (err) =>{\n         console.log('web socket error',err);\n    };\n\n    ws.onclose = (e) =>{\n         console.log('websocket closing',e);\n    };\n\n    ws.onopen = (e) =>{\n    };\n\n    // send message\n    subBtn.addEventListener('click',(e)=>{\n        \n        e.preventDefault();\n        const text = input.value;\n\n        console.log('submit clicked', handle, text);\n\n        ws.send(JSON.stringify({\n            action:'msg',\n            room:store.roomName(),\n            handle:handle,\n            text:text\n        }));\n\n        const msgEl = document.createElement('li');\n        msgEl.innerHTML = `\n        <h1>${handle}: ${text}</h1>\n        `;\n        msgEl.classList.add('myMessage')\n        messageBox.appendChild(msgEl);\n        bottomizeScroll();\n\n\n        input.value=\"\";\n        input.select();\n    });\n    //send message by pressing enter\n    document.addEventListener('keypress', (e) => {\n        if (e.key == 'Enter') {\n            subBtn.click();\n        }\n    });\n\n    //change rooms\n    roomChangeButton.addEventListener('click',(e)=>{\n        store.setRoom(roomChangeInput.value);\n        roomChangeInput.value = ''\n        ws.send(JSON.stringify({\n            action: 'roomChange',\n            payload:{\n                room: store.room\n            }\n        }));\n\n    })\n\n};\n\nfunction bottomizeScroll() {\n    var element = document.getElementById(\"messages\");\n    element.scrollTop = element.scrollHeight;\n}\n\nexport default WSmaker;\n\n\n// WEBPACK FOOTER //\n// ./frontendSRC/WS.js","class UI{\n    constructor(store){\n        this.store = store;\n\n        //makes room list collapseable on each room\n        document.getElementById('userlistLabel').addEventListener('click', (e) => {\n            document.querySelectorAll('.room').forEach((roomButton) => {\n                roomButton.classList.contains('collapse') ? roomButton.classList.remove('collapse') : roomButton.classList.add('collapse');\n            })\n        })\n\n\n        //binds enter to signinbutton at start\n        const signInEnter = function (e) {\n            if (!store.signedIn && e.key == 'Enter') {\n                const signinSubmitel = document.getElementById('signin-submit');\n                signinSubmitel.click();\n            }\n        }\n        document.addEventListener('keypress', signInEnter);\n    }\n\n    makeName(handle){\n        const username = document.getElementById('username');\n        username.innerHTML = `<h1>${handle}</h1>`\n    }\n    makeRoom(roomName){\n        const roomname = document.getElementById('roomname')\n        document.getElementById('roomname').innerHTML = `<h1>${roomName}</h1>`\n    }\n    makeUserList(rooms){\n        const userListEl = document.getElementById('userList');\n        userListEl.innerHTML = ''\n\n        const roomChangeInput = document.getElementById('roomChangeInput');\n        const roomChangeButton = document.getElementById('roomChangeButton')\n\n        Object.keys(rooms).forEach((room, i) => {\n\n\n            const roomEl = document.createElement('li');\n            roomEl.innerHTML = `<div><button id=roomButton data-room=${room}>${room}</button><button data-room=${room} id='collapseRoom'>[x]</button</div>`\n            roomEl.classList.add('room')\n            roomEl.querySelector('#collapseRoom').addEventListener('click', (e) => {\n                roomEl.classList.contains('collapse') ? roomEl.classList.remove('collapse') : roomEl.classList.add('collapse');\n            })\n            const roomElList = document.createElement('ul');\n            roomElList.classList.add('roomUserList')\n\n            roomEl.appendChild(roomElList);\n            userListEl.appendChild(roomEl)\n\n            rooms[room].forEach((user) => {\n                console.log('userlist', typeof (user), user);\n                const li = document.createElement('li');\n                li.innerHTML = `<button id='userButton' data-name=${user.name}'>${user.name}</button>`\n                roomElList.appendChild(li);\n            })\n\n            document.querySelectorAll('#roomButton').forEach((button) => {\n                button.addEventListener('click', (e) => {\n                    console.log(button.dataset.room)\n                    roomChangeInput.value = button.dataset.room\n                    roomChangeButton.click();\n                })\n            })\n\n            document.querySelectorAll('#userButton').forEach((button) => {\n                button.addEventListener('click', (e) => {\n                    console.log(button.dataset.name)\n                })\n            })\n\n        })\n\n    }\n}\n\nexport default UI;\n\n\n// WEBPACK FOOTER //\n// ./frontendSRC/ui.js"],"sourceRoot":""}